<!doctype html>
<html>
<head>

<!-- https://embed.plnkr.co/oyaVFn/ -->
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
<title>client side image resize before upload jquery</title>
<script type="text/javascript">
var fileReader = new FileReader();
var filterType = /^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i;

fileReader.onload = function (event) { // 파일이 로드 되었을 때
  var image = new Image(); // 새로운 이미지를 생성한다.
  
  image.onload=function(){
      document.getElementById("original-Img").src=image.src;      
  }
  image.src=event.target.result;
};

var loadImageFile = function () {
	  var uploadImage = document.getElementById("upload-Image"); //파일 요소 가져와서
	  
	  //check and retuns the length of uploded file.
	  if (uploadImage.files.length === 0) {  // 업로드 된게 있는지 확인하고
	    return; 
	  }
	  
	  //Is Used for validate a valid file.
	  var uploadFile = document.getElementById("upload-Image").files[0]; // 업로드된 파일중 첫 번째를 가져온다.
	  console.log(uploadFile);
	  if (!filterType.test(uploadFile.type)) {
	    alert("Please select a valid image."); 
	    return;
	  }
	  
	  fileReader.readAsDataURL(uploadFile); // 파일 리더를 이용해 파일을 읽는다
}
</script>
</head>

<body onload="loadImageFile();">
  <form name="uploadForm">
	   <input id="upload-Image" type="file" onchange="loadImageFile();" /><br>
	   Origal Img - <img id="original-Img"/><br>
	   Compress Img - <img id="upload-Preview"/>
	   Compress Img - <img id="upload-Preview2"/>
	   <!-- Compress Img - <img id="upload-Preview3"/> -->
	   <input type="image" id="upload-Preview3"/>
  </form>
</body>
</html>